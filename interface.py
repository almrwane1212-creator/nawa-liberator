import streamlit as st
from identity_engine import generate_nawa_did

# ุฅุนุฏุงุฏุงุช ุงูุตูุญุฉ (ุชูุณูู ููู ุงููุณุชูุจูู)
st.set_page_config(page_title="NAWA | ุงูููุงุฉ", page_icon="๐ก๏ธ", layout="centered")

st.title("๐ก๏ธ ูููุตุฉ ูููู (NAWA)")
st.subheader("ุงุณุชุนุฏ ุณูุงุฏุชู ุงูุฑูููุฉ ุงูุขู")

# ุงููุณู ุงูุฃูู: ุงููููุฉ
st.sidebar.header("ุจูุงุจุฉ ุงููููุฉ")
user_secret = st.sidebar.text_input("ุฃุฏุฎู ุฌููุชู ุงูุณุฑูุฉ ูุชูููุฏ ุงูู DID:", type="password")

if user_secret:
    did = generate_nawa_did(user_secret)
    st.sidebar.success(f"ูุนุฑูู ุงููุงูุฑูุฒู ูุดุท:\n{did}")

# ุงููุณู ุงูุซุงูู: ูุงุฌูุฉ ุงูููุฉ
st.write("---")
st.header("ูุงุฐุง ุชุฑูุฏ ุฃู ุชูุฌุฒ ุงูุขูุ")
col1, col2 = st.columns(2)

with col1:
    intent = st.selectbox("ุงุฎุชุฑ ููุชู:", ["ุชุนูู ููุงุฑุฉ", "ุงุณุชูุดุงู ุฅุจุฏุงุนู", "ุชุฑููู ูุงุนู", "ุชูุงุตู ูุงุฏู"])

with col2:
    duration = st.slider("ูู ุฏูููุฉ ุชุฎุตุต ููุฐู ุงูููุฉุ", 5, 120, 20)

if st.button("ุชูุนูู ูููู ููู ุงูุฐูู"):
    st.balloons()
    st.info(f"๐ ุชู ุนุฒู ุงููุดุชุชุงุช. ููููู ุงูุฐูู ูุญูู ุงูููุจ ุงูุขู ูุฌูุจ ูุญุชูู ({intent}) ููุงุณุจ ููุชู ({duration} ุฏูููุฉ).")
    
    # ูุญุงูุงุฉ ูุนูููุฉ ุงูุชุตููุฉ ุงููุงูุฑูุฒูุฉ
    with st.spinner('ุฌุงุฑู ุงูุงุชุตุงู ุจู IPFS ูุชุตููุฉ ุงููุญุชูู...'):
        import time
        time.sleep(2)
        st.write("### ๐ ูุชุงุฆุฌ ููููุฉ ูู:")
        st.checkbox("ููุฏูู ุชุนูููู: ููุฏูุฉ ูู ุงูููุจ ุงููุงูุฑูุฒู (8 ุฏูุงุฆู)")
        st.checkbox("ููุงู: ููู ุชุญูู ุนููู ูู ุงูุฏูุจุงููู ุงูุฑููู (5 ุฏูุงุฆู)")
      
